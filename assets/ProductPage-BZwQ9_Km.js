import{r as l,j as e,b as P,h as B,B as M,p as D}from"./index-2rYyGtHh.js";import{M as m,B as y,a as h,D as o}from"./ToggleSwitch-Da8uWyWA.js";import{P as E}from"./ProductItem-ChaDLrio.js";import{C as H,f as $}from"./category-CZJUHu3a.js";import{c as A}from"./classNames-BuontFX9.js";import"./index-DXG_zCms.js";import"./ImageCustom-Do7A50Cx.js";import"./Icon-B5k9VC6B.js";const G=()=>{const[g,c]=l.useState(!1);return e.jsxs("div",{className:"flex justify-center p-5",children:[" ",e.jsx("button",{className:"p-2 bg-slate-300 rounded-lg hover:bg-gray-400 hover:text-white",onClick:()=>c(!0),children:"Toggle modal"}),e.jsxs(m,{show:g,onClose:()=>c(!1),children:[e.jsx(m.Header,{children:"Terms of Service"}),e.jsx(m.Body,{children:e.jsxs("div",{className:"space-y-6 items-center content-center flex flex-col justify-center font-bold",children:[e.jsx("p",{className:"text-2xl leading-relaxed text-gray-500 dark:text-gray-400",children:"I love u"}),e.jsx("p",{className:"text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"I love u more"})]})}),e.jsxs(m.Footer,{children:[e.jsx(y,{onClick:()=>c(!1),children:"I accept"}),e.jsx(y,{color:"gray",onClick:()=>c(!1),children:"Decline"})]})]})]})},J=()=>{const g=P(),[c]=B(),d=c.get("gender"),u=c.get("category"),[a,f]=l.useState(null),[t,i]=l.useState(null),[x,N]=l.useState([]),[p,b]=l.useState([]),v=async()=>{await H.getAllCategory().then(s=>{N($(s.data))})},k=s=>{M.success(s,{autoClose:500,delay:10,draggable:!0,pauseOnHover:!0})},C=async(s,r)=>{await D.searchProductsByCategory(s,r,1,10,"modifiedDate","asc").then(n=>{console.log(n.data.items),b(n.data.items)})},w=s=>{f(s),i(null),j(`/product?gender=${s==null?void 0:s.categoryName}`)},I=s=>{i(s),j(`/product?gender=${a==null?void 0:a.categoryName}&category=${s.categoryName}`)},j=s=>{g(s,{replace:!0})};return l.useEffect(()=>{v()},[]),l.useEffect(()=>{if(x.length>0&&d){const s=x.find(r=>r.categoryName===d);if(s)if(f(s),u){const r=s.children.find(n=>n.categoryName===u);i(r||null)}else i(null)}},[x,d,u]),l.useEffect(()=>{a&&C(a.categoryName,(t==null?void 0:t.categoryName)||"")},[a,t]),e.jsxs("div",{className:"bg-white dark:bg-[#121212] dark:text-white min-h-screen",children:[e.jsx(G,{}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-baseline justify-between border-b border-gray-200 py-3",children:e.jsxs(h,{children:[e.jsx(h.Item,{href:"/",children:"Home"}),e.jsx(h.Item,{href:`product?gender=${d}`,children:a==null?void 0:a.locale}),t&&e.jsx(h.Item,{children:t.locale})]})}),e.jsx("div",{className:"flex justify-center mb-4",children:x.map(s=>e.jsx("button",{onClick:()=>w(s),className:`flex-1 px-6 py-2 text-lg font-semibold hover:text-black ${(a==null?void 0:a.categoryName)===s.categoryName?"border-b-2 border-black text-black dark:text-white dark:border-white":"text-gray-500 dark:text-white"}`,children:s.locale},s.id))}),e.jsxs("section",{"aria-labelledby":"products-heading",className:"pb-24 pt-6",children:[e.jsxs("div",{"data-aos":"fade-up",children:[e.jsx("h1",{className:"text-sm font-bold",children:"Kết quả"}),e.jsxs("h1",{className:"text-base",children:[p.length," Sản phẩm"]})]}),e.jsxs("div",{className:"flex gap-x-8 gap-y-10",children:[e.jsxs("div",{className:"flex flex-col w-1/4",children:[e.jsx("h1",{"data-aos":"fade-up","data-aos-delay":"100",className:"text-2xl font-bold py-10",children:a==null?void 0:a.locale}),e.jsx("ul",{role:"list","data-aos":"fade-up","data-aos-delay":"100",className:"space-y-4 pb-6 text-sm font-medium text-gray-900 dark:text-white",children:a==null?void 0:a.children.map(s=>e.jsx("li",{className:A("p-2 rounded-md cursor-pointer text-lg font-semibold hover:bg-gray-300 hover:dark:text-black",s.categoryName===(t==null?void 0:t.categoryName)?"bg-gray-300 dark:bg-gray-800":""),onClick:()=>I(s),children:s.locale},s.id))})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex justify-end p-5",children:e.jsxs(o,{label:"Sắp xếp theo",children:[e.jsx(o.Item,{className:"hover:text-blue-400",onClick:()=>k("Giá từ thấp đến cao"),children:"Giá từ thấp đến cao"}),e.jsx(o.Item,{className:"hover:text-blue-400",children:"Giá từ cao đến thấp"}),e.jsx(o.Item,{className:"hover:text-blue-400",children:"Hàng mới về"}),e.jsx(o.Item,{className:"hover:text-blue-400",children:"Hàng tiêu biểu"}),e.jsx(o.Item,{className:"hover:text-blue-400",children:"Được đánh giá tốt nhất"})]})}),p.length>0?e.jsx("div",{className:"grid grid-cols-1 col-span-3 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:p.map((s,r)=>{const S=300+r%8*100;return e.jsx("div",{"data-aos":"fade-up","data-aos-delay":S,children:e.jsx(E,{product:s})},r)})}):e.jsx("div",{className:"flex justify-center font-semibold text-xl",children:"Không có sản phẩm nào"})]})]})]})]})]})};export{J as default};
