import{f as g,r as a,b as x,u as h,B as u,j as e,L as f}from"./index-fV7q6_wr.js";import{o as p}from"./order.api-Bw3pHuBK.js";const j=()=>{var l;const t=g(),s=((l=new URLSearchParams(t.search).get("orderId"))==null?void 0:l.replace(/:/g,"-"))||"",o=new URLSearchParams(t.search).get("resultCode")||"",n=new URLSearchParams(t.search).get("amount")||"",[d,i]=a.useState(!0),c=x(),{userInfo:m}=h(r=>r.user);return a.useEffect(()=>{m.id===""?(u.error("You need to login to view this page.",{autoClose:1e3,pauseOnHover:!0,draggable:!0,delay:50}),c("/login",{replace:!0})):i(!1)},[c]),a.useEffect(()=>{s&&o&&p.paidOrder(s).then(r=>{r.result&&u.success("Payment successful!",{autoClose:1e3,pauseOnHover:!0,draggable:!0,delay:50})})},[s,o]),d?null:e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-green-100",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-green-700",children:"Payment Successful!"}),e.jsx("p",{className:"text-lg mb-8 text-green-600",children:"Your payment has been processed successfully."}),s&&e.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[e.jsxs("p",{className:"text-lg font-bold",children:["Order ID: ",s]}),e.jsxs("p",{className:"text-lg",children:["Amount Paid:"," ",n?parseInt(n).toLocaleString("it-IT",{style:"currency",currency:"VND"}):"N/A"]})]}),e.jsx(f,{to:"/",className:"hover:underline font-bold text-xl text-green-800 bg-white py-2 px-4 rounded shadow",children:"Go back to Home"})]})})};export{j as default};
